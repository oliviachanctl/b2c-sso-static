<!DOCTYPE html>
<!-- saved from url=(0080)../assets/AzureBlue/selfAsserted.cshtml -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Sign in</title>

    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="https://auth-test.centurylink.com/azure/lumen/favicon.ico" />
    <link rel="apple-touch-icon" href="https://auth-test.centurylink.com/azure/lumen/mobileicon.png" />
    <link href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css" data-preload="true"/>

    <link href="https://auth-test.centurylink.com/azure/lumen/css/assets.css" rel="stylesheet" type="text/css" data-preload="true"/>
    <link href="https://auth-test.centurylink.com/azure/lumen/css/common.css" rel="stylesheet" type="text/css" data-preload="true"/>
    <link href="https://auth-test.centurylink.com/azure/lumen/css/unified.css" rel="stylesheet" type="text/css" data-preload="true"/>

    <style>
        .container .row .panel-default .panel-body .companyLogo {
          width: 200px;
          height: auto;
        }

        /*hide social until removed from ief
        .unified_container .row .panel-default #api .social, .unified_container .row .panel-default #api .create {
          display: none !important;
        }
        */

        /*unified.css is missing rules for #signInName (they should match #password)*/
        .unified_container .row .panel-default #api .localAccount .entry .entry-item #signInName {
          outline: none;
          background-color: #fff !important;
          background-image: none !important;
          border-radius: 0.5rem !important;
          box-shadow: 0px 2px 10px rgba(0,0,150,0.15);
          color: #555;
          display: inline-block;
          font-size: 1em;
          height: 50px;
          line-height: 1.42857143;
          padding: 6px 20px;
          transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s !important;
          width: 100% !important;
          -o-transition: border-color ease-in-out .15s,box-shadow ease-in-out .15s !important;
          -webkit-transition: border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s !important;
        }

        .unified_container .row .panel-default #api .localAccount .entry .buttons #next {
            width: 100% !important;
        }

        .unified_container .row .panel-default #api .localAccount #forgotPassword {
            display: none !important;
        }

        #appendInfo {
            text-align: left;
            background-image: url("data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbi1jaXJjbGUtaW5mbyIgdmlld0JveD0iMCAwIDE2IDE2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGZpbGw9IiMwMDgwZGMiIGQ9Ik04IDE2QTggOCAwIDEgMSA4IDBhOCA4IDAgMCAxIDAgMTZ6TTggMy44NWMtLjM1NCAwLS42NjEuMTMtLjkyMi4zOS0uMjYuMjYtLjM5LjU2Ny0uMzkuOTIgMCAuMzU0LjEzLjY2MS4zOS45MjFzLjU2OC4zOS45MjIuMzljLjM1NCAwIC42NjEtLjEzLjkyMi0uMzkuMjYtLjI2LjM5LS41NjcuMzktLjkyIDAtLjM1NC0uMTMtLjY2LS4zOS0uOTIxLS4yNi0uMjYtLjU2OC0uMzktLjkyMi0uMzl6bTEgNC44MDh2LTEuNUg2LjI1djEuNUg3djEuOTkyaC0uNzV2MS41aDMuNXYtMS41SDlWOC42NTh6IiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD48L3N2Zz4=");
            background-repeat: no-repeat;
            background-position-y: 3px;
            background-size: 16px;
            padding-left: 22px;
        }
        /*
        The #password version of this rule does not get used
        .unified_container .row .panel-default .panel-body #api .localAccount .entry .entry-item #signInName{
            height: 40px;
        }
        */
    </style>

    <!-- Adobe DTM (Dynamic Tag Manager) Top Initialization -->
    <!-- TODO: PROD needs different JS! -->
    <script src="https://assets.adobedtm.com/e2f8cd116ff52c784c699a7031ef84a705ee0e03/satelliteLib-5b7178bc3b01fb290cc4c4d66c5cfbc76b711b7a-staging.js"></script>
</head>
<body>
    <div id="background_branding_container" data-tenant-branding-background-color="true">
      <img data-tenant-branding-background="true" src="https://auth-test.centurylink.com/azure/assets/backgrounds/1-1.png" alt="Illustration"/>
    </div>
    <div class="container  unified_container ">
        <div class="row">
            <div class="col-lg-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <img alt="Lumen" class="companyLogo" src="https://auth-test.centurylink.com/azure/lumen/logo.svg">
                        <div id="api">
                        </div>

                        <div><a href="https://controlcenter.lumen.com/business/prelogin/#/forgot-username-passwd">Forgot username/password</a></div>
                        <div style="margin-top: 1em;"><a href="https://www.lumen.com/help/en-us/control-center/general/troubleshooting-login-problems.html">Sign in help</a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        $(function () {
            //auto append required domain to username
            if ($('#signInName').length) {
                $('#signInName').blur(function () {
                    username = $('#signInName').val();
                    if (username && username.search('@') < 0) {
                        if (username.match(/^\d{10}$/)) {
                            $('#signInName').val(username + "tn@voip.control.centurylink.com");
                        } else {
                            $('#signInName').val(username + "@control.centurylink.com");
                        }
                        console.log("Automatically appended required domain to username: " + $('#signInName').val());
                        $('#signInName').after('<div id="appendInfo">Automatically appended required domain to username!</div>');
                        setTimeout(function() { $("#appendInfo").hide(2000) }, 2000);
                    }
                });
            }


            //react to error messages in the #api div
            //set up a Mutation Observer to watch for changes to the .error div in the #api div
            var observer = new MutationObserver(function(mutations) {
              mutations.forEach(function(mutation) {
                  var mutationText = $(mutation.target).text();

                  //replace error string with HTML
                  if (mutationText.indexOf('[E10001]') >= 0) {
                      $(mutation.target).html("Your user name or password are incorrect.<br/>Please use the links below if you have forgotten your credentials or need further help.");
                  }

                  if (mutationText.indexOf('[E10003]') >= 0) {
                      $(mutation.target).html("Too many failed sign in attempts.<br/>For security purposes, signing in has been temporarily disabled.<br/><br/>Please use the links below if you have forgotten your credentials or need further help.");
                  }

                  //trigger notification via ajax, requires CORS configuration at url requested!
                  if (mutationText.indexOf('[E10003]') >= 0) {
                      $.ajax({
                        type: "GET",
                        cache: false,
                        url: "https://controlcenter.lumen.com/janus/jweb/public/accountLocked",
                        data: "authenticatedUser=" + $('#signInName').val(),
                        beforeSend : function() {
                            //console.log("sending ajax request");
                        },
                        success: function(data) {
                            //console.log("ajax request successful");
                        },
                        error: function(data) {
                            //console.log("ajax request error: " + data.status);
                        }
                      });
                  }

                  //console.log("mutation observer says: " + $(mutation.target).text());
              });
            });
            var observerConfig = {
              attributes: true,
              childList: true,
              characterData: true,
              subtree: true
            };
            var targetNode = $('#api .error > p')[0];
            if (targetNode) observer.observe(targetNode, observerConfig);
        });

        // refresh page 5s before it expires
        // Azure B2C will reject POST after 3600s
        // mod_auth_openidc will reject POST based on the OIDCStateTimeout configuration (defaults to 300s)
        self.loginTimeout = setTimeout(function () {
          if (!document.getElementById('lpChat')) window.location.reload(true);
        }, 295*1000);
    </script>
</body></html>