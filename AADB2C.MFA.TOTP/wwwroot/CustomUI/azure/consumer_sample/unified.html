<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>My CenturyLink : Sign In</title>

<!--#include file="ssi/azure_styles.html" -->

  <!--start page specific azure b2c styles-->
  <style>
      /* Following are generated styles via gulp. */
      /* inject: css */
      .unified_container .row .panel-default{padding:40px 30px;margin-top:auto;margin-bottom:auto;height:100%;background-color:#fff}.unified_container .row .panel-default .panel-body{max-width:380px;width:auto;margin:0 auto;padding:0}.unified_container .row .panel-default .panel-body .companyName{font-size:1.5em;margin-bottom:45px}.unified_container .row .panel-default .panel-body .companyLogo{display:block}.unified_container .row .panel-default .panel-body img{max-width:100%;width:auto;height:70px;margin:0 auto;display:block}.unified_container .row .panel-default .panel-body h3{font-size:1.5em;display:none}.unified_container .row .panel-default #api{display:table;margin:0;width:100%}.unified_container .row .panel-default #api .intro{display:block;text-align:left}.unified_container .row .panel-default #api .intro h2{font-size:20px}.unified_container .row .panel-default #api .divider{display:none}.unified_container .row .panel-default #api .localAccount{top:10px;width:100%}.unified_container .row .panel-default #api .localAccount .intro h2{font-size:20px}.unified_container .row .panel-default #api .localAccount .error{color:#b00;text-align:left}.unified_container .row .panel-default #api .localAccount .entry .buttons{margin:0 0 23px 0;text-align:left}.unified_container .row .panel-default #api .localAccount .entry .buttons button{background-image:none;background-color:#296ec6;border:none;border-radius:.5rem;cursor:pointer;display:inline-block;font-size:1em;font-weight:400;height:inherit;line-height:1.3333333;margin-top:2rem;margin-right:0;margin-bottom:1.2rem;margin-left:0;padding:10px 16px;text-align:center;touch-action:manipulation;user-select:none;vertical-align:middle;white-space:nowrap;width:inherit;-moz-user-select:none;-ms-touch-action:manipulation;-ms-user-select:none;-webkit-user-select:none;color:#fff;width:63%;box-shadow:0 0 30px 0 #dae1f7}@media screen and (-ms-high-contrast:active){.unified_container .row .panel-default #api .accountButton,.unified_container .row .panel-default #api .localAccount .entry .buttons button{border:1px dashed #fff}.unified_container .row .panel-default #api .accountButton:hover,.unified_container .row .panel-default #api .localAccount .entry .buttons button:hover{border:1px solid #fff}}.unified_container .row .panel-default #api .localAccount .entry .buttons button:focus,.unified_container .row .panel-default #api .localAccount .entry .buttons button:hover{-moz-box-shadow:none;-webkit-box-shadow:none;box-shadow:none;background-color:#1662c7;color:#fff}.unified_container .row .panel-default #api .localAccount .entry .entry-item{position:relative;width:100%;padding-top:6px;padding-bottom:6px;display:block}.unified_container .row .panel-default #api .localAccount .entry .entry-item label{display:none}.unified_container .row .panel-default #api .localAccount .entry .entry-item input:focus{border:2px solid #000}.unified_container .row .panel-default #api .localAccount .entry .entry-item input{outline:0;background-color:#fff!important;background-image:none!important;border-radius:.5rem!important;color:#555;display:inline-block;font-size:1em;height:50px;line-height:1.42857143;padding:6px 20px;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s!important;width:100%!important;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s!important;-webkit-transition:border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s!important}.unified_container .row .panel-default #api .localAccount .entry .entry-item #password{margin-bottom:20px}.unified_container .row .panel-default #api .localAccount .entry .entry-item .password-label{text-align:left;height:0;left:0;width:100%}.forgot-password{text-align:left}.forgot-password.center-height{position:absolute;bottom:0;clear:right;cursor:pointer;text-align:right}@keyframes slideInFromRight{0%{opacity:0;transform:translateX(50%)}100%{opacity:1;transform:translateX(0)}}.unified_container .row .panel-default #api .localAccount .entry .entry-item .password-label #forgotPassword{position:absolute;bottom:0;clear:right;cursor:pointer;text-align:right}.unified_container .row .panel-default #api .localAccount .rememberMe{margin-top:-2rem;text-align:right}.unified_container .row .panel-default #api .localAccount .rememberMe.align-to-left{margin-top:1rem;text-align:left}.working{display:none}.unified_container .row .panel-default #api .claims-provider-list-text-links p,.unified_container .row .panel-default #api .localAccount .create p{text-align:left;margin-top:-3rem;margin-bottom:3rem}.unified_container .row .panel-default #api .localAccount .create #createAccount{border-radius:.5rem;display:inline-block;font-size:1em;font-weight:400;height:inherit;line-height:1.3333333;padding:10px 16px;text-align:center;touch-action:manipulation;user-select:none;white-space:nowrap;-moz-user-select:none;-ms-touch-action:manipulation;-ms-user-select:none;-webkit-user-select:none;width:auto;margin-top:-3rem;cursor:pointer;animation:.5s ease-out 0s 1 slideInFromRight}.unified_container .row .panel-default #api .social{display:table-footer-group;position:relative;top:1px;width:auto}.unified_container .row .panel-default #api .accountButton{background-size:10% 70%;background-position-x:3%;background-position-y:50%;background-repeat:no-repeat;display:block;font-size:16px;height:45px;width:100%;margin-left:auto;overflow:hidden;padding:0 50px;max-width:380px;border:1px solid #605e5c;background-color:#fff;-moz-border-radius:.5rem;-webkit-border-radius:.5rem;border-radius:.5rem;margin-top:10px}.unified_container .row .panel-default #api .accountButton:hover{color:#fff;background-color:#1662c7}.claims-provider-list-text-links-bottom-under-form{text-align:left}@media (max-width:100%){.unified_container .row .panel-default{margin-top:auto;margin-bottom:auto;height:550px}.unified_container .row .panel-default .panel-body{padding:5rem 3rem;margin-top:20px}.unified_container .row .panel-default .panel-body .companyName{display:none}.unified_container .row .panel-default .panel-body .companyLogo{display:block}.unified_container .row .panel-default .panel-body h3{display:block}.unified_container .row .panel-default .panel-body #api{width:auto}.unified_container .row .panel-default .panel-body #api .social{top:370px;width:auto}.unified_container .row .panel-default .panel-body #api .social .options .accountButton{height:40px}.unified_container .row .panel-default .panel-body #api .social .options #FacebookExchange{background-size:12px;background-position:50% 75%;margin-bottom:10px}.unified_container .row .panel-default .panel-body #api .social .options #GoogleExchange{background-size:20px;background-position:50% 75%;margin-bottom:10px}.unified_container .row .panel-default .panel-body #api .social .options #TwitterExchange{background-size:20px;background-position-x:56px;background-position-y:14px;margin-bottom:10px}.unified_container .row .panel-default .panel-body #api .localAccount{top:20px}.unified_container .row .panel-default .panel-body #api .localAccount .entry .entry-item{display:block;width:100%;margin-bottom:10px}.unified_container .row .panel-default .panel-body #api .localAccount .entry .entry-item .password-label{top:145px}.unified_container .row .panel-default .panel-body #api .localAccount .entry .entry-item #logonIdentifier{height:40px}.unified_container .row .panel-default .panel-body #api .localAccount .entry .entry-item #password{height:40px}.unified_container .row .panel-default .panel-body #api .localAccount .entry .entry-item:nth-child(2){width:auto;float:left}.unified_container .row .panel-default .panel-body #api .localAccount .entry .buttons #next{width:auto;text-indent:-4px;height:40px;line-height:0;position:relative;bottom:5px;left:8px}}@media screen and (max-width:320px){.unified_container .row .panel-default #api .localAccount .rememberMe{margin:0;text-align:left}}
      /* endinject */
  </style>
  <!--end page specific azure b2c styles-->

<!--#include file="ssi/head_links.html" -->
</head>

<body>
<div class="chi" id="articleWrapper">
  <article class="-bg--white">

<!--#include file="ssi/header.html" -->

    <main>
      <div class="-d--flex -justify-content--center">
        <div class="-pb--2 -w--100">
          <div class="chi-card -by--0 -bg--none">
            <div class="chi-card__header -align--center">
              <div class="chi-card__title">
                <h3 class="-text--center -d--none -d-lg--block" id="signIn">Sign In</h3>
                <h3 class="-text--center -d -d-lg--none" id="signIn2">Sign In</h3>
                <div class="-my--2 -text--center -text--normal -d--none -d-lg--block">Sign in to your My CenturyLink account
                </div>
                <div class="-my--2 -text--center -text--normal -text--xl -d -d-lg--none">Sign in to your My CenturyLink account
                </div>
              </div>
            </div>
            <div class="chi-card__content -text--center -px--4 -px-sm--6 -pb--2 -align--center">
              <div class="-w-sm--75 -mw--480 -mx--auto">
                <!-- azure b2c content in chi wrapper -->
                <div id="api"></div>

                <div class="-pt--3 -pt-sm--4 -text--primary -text--xs">Forgot
                  <a class="-mb--2 -mb-sm--0" href="https://eam.centurylink.com/eam/loginTrouble/obtainForgottenUserID.do"><u>User Name</u></a> or
                  <a class="-mb--2 -mb-sm--0" href="https://eam.centurylink.com/eam/loginTrouble/forgotPassword.do"><u>Password</u></a>?
                </div>

                <div class="-pt--3 -pt-sm--2 -text--primary -text--xs">New to My CenturyLink?
                  <a class="-mb--2 -mb-sm--0" href="https://eam.centurylink.com/eam/registration.do"><u>Enroll now</u></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="chi-grid -justify-content--center text-align -mr--0">
        <div class="chi-col -o--1 -w--3 -d--none -d-lg--flex -justify-content--end">
          <div class="chi-card__content">
            <h5 class="chi-card__title" id="needHelp">Need Help?</h5>
            <ul class="-text -no-style">
              <li><a href="https://www.centurylink.com/home/help/contact.html">Contact Customer Service</a></li>
              <li><a href="https://www.centurylink.com/home/help/account/forgotten-your-mycenturylink-username-or-password.html">My Account Help</a></li>
            </ul>
          </div>
        </div>

        <div class="chi-col -o--0 -w--4 -text-lg--left -d--none -d-lg--flex">
          <div class="chi-card__content">
            <h5 class="chi-card__title" id="manageAcc">Manage Other Accounts</h5>
            <ul class="-text -no-style">
              <li><a href="https://centurylink.net/">CenturyLink Email</a></li>
              <li><a href="https://www.centurylink.com/business/login/#/smb">Small Business Account Management</a></li>
              <li><a href="https://www.centurylink.com/business/login/">Enterprise Account Management</a></li>
              <li><a href="https://controlnetworx.centurylink.com/portal/site/networx">Federal Government Account Management</a></li>
            </ul>
          </div>
        </div>

        <div class="chi-col -w--12 -d-lg--none -d--flex -p--0">
          <div class="chi-card__content -text--center -mx--auto">
            <h5 class="chi-card__title" id="needHelp">Need Help?</h5>
            <ul class="-text -no-style">
              <li><a href="https://www.centurylink.com/home/help/contact.html">Contact Customer Service</a></li>
              <li><a href="https://www.centurylink.com/home/help/account/forgotten-your-mycenturylink-username-or-password.html">My Account Help</a></li>
            </ul>
          </div>
        </div>

        <div class="chi-col -w--12 -text-lg--left -d-lg--none -d--flex -p--0">
          <div class="chi-card__content -text--center -mx--auto">
            <h5 class="chi-card__title" id="manageAcc">Manage Other Accounts</h5>
            <ul class="-text -no-style">
              <li><a href="https://centurylink.net/">CenturyLink Email</a></li>
              <li><a href="https://www.centurylink.com/business/login/#/smb">Small Business Account Management</a></li>
              <li><a href="https://www.centurylink.com/business/login/">Enterprise Account Management</a></li>
              <li><a href="https://controlnetworx.centurylink.com/portal/site/networx">Federal Government Account Management</a></li>
            </ul>
          </div>
        </div>
      </div>
    </main>


    <!--#include file="ssi/footer.html" -->

  </article>
</div>

    <!-- start page specific JS -->
    <script type="text/javascript">
      $(function () {
          // add chi classes to azure b2c injected content
          $('#api .intro').hide();
          $('.chi-card__content').first().css("background-color", "#e3e3e3");
          $('div.entry-item').addClass("chi-form__item -mx--auto -pt--2 chi-input__wrapper");
          $('input').addClass("chi-input -xl -text--xs -mx--auto");
          $('label').hide();
          $('#signInName, #password, #next').css("width", "17.375rem");
          // TODO: uncomment this when font is CORS enabled
          //$('#next').css("font-family", "MaisonNeue-Bold");
          $('#next').css({ "border-radius": "0", "height": "3.5625rem" });
          $('div.rememberMe').addClass("chi-checkbox");
          $('div.rememberMe').wrap( "<div class='chi-form__item -mt--2'></div>" );
          $('#rememberMe').addClass("chi-checkbox__input");
          $('div.rememberMe label').addClass("chi-checkbox__label");
          $('button#next').addClass("chi-button -primary -large -text--capitalized -text--bold -fluid -justify-content--center").css("height", "auto");
          $('div.error.itemLevel p').addClass("chi-label -status -info -mt--0");
          $('#password').after("<i class=\"chi-icon icon-visible-off -text--muted -text--xl\" id=\"passwordVisibility\" onclick=\"passwordVisibility()\"></i>");
          $('#passwordVisibility').css({ "right": "6.75rem", "top": "1.5rem" });

          //react to error messages in the #api div
          //set up a Mutation Observer to watch for changes to the .error div in the #api div
          var observer = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
              var mutationText = $(mutation.target).text();

              if (mutationText) {
                //TODO: as required substitute error messages based on their error code when HTML is required in the message
                if (mutationText.indexOf('[E10001]') >= 0) {
                    $(mutation.target).html("<p class=\"chi-alert__title\">Failed to authenticate, Your user name or password are incorrect.</p>Please use the links below if you have forgotten your credentials or need further help.");
                }
                if (mutationText.indexOf('[E10002]') >= 0) {
                    $(mutation.target).html("<p class=\"chi-alert__title\">Your account has been locked. Contact your support person to unlock it, then try again.</p>Please use the links below if you have forgotten your credentials or need further help.");
                }
                if (mutationText.indexOf('[E10003]') >= 0) {
                    $(mutation.target).html("<p class=\"chi-alert__title\">Too many failed sign in attempts.</p>Your account is temporarily locked to prevent unauthorized use. Please try again later.<br/><br/>Please use the links below if you have forgotten your credentials or need further help.");
                }
                if (mutationText.indexOf('[E10006]') >= 0) {
                    $(mutation.target).html("<p class=\"chi-alert__title\">Your account did not complete migration and your password is no longer valid. Please contact Support.</p>Please use the links below if you have forgotten your credentials or need further help.");
                }

                //wrap p children in error div in chi alert structure...
                //need to disconnect observer before and reconnect after
                observer.disconnect();
                $('#api .error > p').wrapInner("<div role='alert' class='chi-alert -info -lg -mb--1'><div class='chi-alert__content'></div></div>");
                $('.chi-alert__content:only-child').before("<i class='chi-alert__icon chi-icon icon-circle-info'/>");
                setTimeout(() => { if (targetNode) observer.observe(targetNode, observerConfig); }, 2000);
              }
            });
          });
          var observerConfig = {
            attributes: true,
            childList: true,
            characterData: true,
            subtree: true
          };
          var targetNode = $('#api .error > p')[0];
          if (targetNode) observer.observe(targetNode, observerConfig);
        });

        // TODO: refresh page 5s before it expires
        // Azure B2C will reject POST after 3600s
        // mod_auth_openidc will reject POST based on the OIDCStateTimeout configuration (defaults to 300s)
        self.loginTimeout = setTimeout(function () {
          if (!document.getElementById('lpChat')) window.history.back();
        }, 295*1000);

        //chi functions are potentially slow to load via Azure B2C
        self.chiTimer = setInterval(function() {
            var chiReady = false;
            try {
                chiReady = (typeof chi == "object") ? true : false;
            } catch (e) {}
            //console.log("chiReady is " + chiReady);
            if (chiReady) {
                clearInterval(self.chiTimer);
                //TODO: insert chi functions here as required (eg. chi.dropdown)
                chi.modal(document.getElementById('modal-trigger-1'));
            }
        }, 100);

        function passwordVisibility() {
          var x = document.getElementById("password");
          if (x.type === "password") {
            x.type = "text";
          } else {
            x.type = "password";
          }
        }
        $(document).ready(function(){
          $('#passwordVisibility').click(function() {
            $(this).toggleClass("ficon-visible-off icon-visible");
          });
          //Remove any errors when user clicks sign in to allow correct display of next error
          $('#next').click(function() {
              $('#api .error > p').empty();
          });
          //Remove any errors when user hits enter to allow correct display of next error
          $('form input').keydown(function (e) {
              if (e.keyCode == 13) {
                  $('#api .error > p').empty();
              }
          });
        });
    </script>
    <!-- end page specific JS -->

<!--#include file="ssi/foot_script.html" -->
</body>
</html>